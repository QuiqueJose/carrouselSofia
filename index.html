<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carrusel Fotos Sofía</title>

    <style>
      body {
        position: relative;
        margin: 0;
        font-family: Arial, sans-serif;
        background: transparent;
      }

      /* ===== CARROUSEL ===== */
      .carousel {
        width: 100%;
        max-width: 900px;
        margin: 40px auto;
        overflow: hidden;
        border-radius: 20px;
      }

      .slides {
        display: flex;
        gap: 8px;
      }

      .slide {
        flex: 0 0 33.3333%;
      }

      .slide img {
        width: 100%;
        max-width: 292px;
        height: auto;
        max-height: 389px;
        border-radius: 14px;
        display: block;
      }

      /* Tablet */
      @media (max-width: 900px) {
        .slide {
          flex: 0 0 50%;
        }
      }

      /* Mobile */
      @media (max-width: 600px) {
        .slide {
          flex: 0 0 100%;
        }
      }
    </style>
  </head>

  <body>
    <!--Carrusel -->
    <div class="carousel">
      <div class="slides" id="slides"></div>
    </div>

    <!-- JS Carrusel -->
    <script>
      // ⚠️ ID DE LA CARPETA DE DRIVE
      const FOLDER_ID = "1AnA6dSldcoh65jl5ns7jxipW07Duz1t6";

      // API pública de Google Drive (sin auth, solo lectura)
      const API_KEY = "AIzaSyCqzg12Q3wHh_Z_WCxLDvRo6czcou1JNGE";

      const slidesContainer = document.getElementById("slides");

      fetch(
        `https://www.googleapis.com/drive/v3/files?q='${FOLDER_ID}'+in+parents+and+mimeType+contains+'image/'&key=${API_KEY}&fields=files(id,name)`
      )
        .then((res) => res.json())
        .then((data) => {
          data.files.forEach((file) => {
            const slide = document.createElement("div");
            slide.className = "slide";

            const img = document.createElement("img");
            img.src = `https://drive.google.com/thumbnail?id=${file.id}&sz=w1200`;
            img.alt = file.name;

            slide.appendChild(img);
            slidesContainer.appendChild(slide);
          });

          startCarousel();
        });

      function startCarousel() {
        setInterval(() => {
          const firstSlide = slidesContainer.firstElementChild;
          const slideWidth = firstSlide.offsetWidth + 8; // gap

          slidesContainer.style.transition = "transform 0.6s ease-in-out";
          slidesContainer.style.transform = `translateX(-${slideWidth}px)`;

          setTimeout(() => {
            slidesContainer.style.transition = "none";
            slidesContainer.style.transform = "translateX(0)";
            slidesContainer.appendChild(firstSlide);
          }, 600);
        }, 3000);
      }
    </script>
  </body>
</html>
